# Cluster shape
KUBE_CP_COUNT=3
KUBE_WORKER_COUNT=2
# External etcd replicas (must be >=3)
KUBE_ETCD_COUNT=3

# Provider: libvirt or virtualbox
KUBE_PROVIDER=libvirt

# VM sizing
KUBE_CP_CPUS=2
KUBE_CP_MEMORY=2048
KUBE_WORKER_CPUS=1
KUBE_WORKER_MEMORY=1024
# Dedicated etcd node sizing
KUBE_ETCD_CPUS=1
KUBE_ETCD_MEMORY=1024
# External etcd version (upstream etcd release)
KUBE_ETCD_VERSION=3.5.15
# Reuse apt metadata for this many seconds before forcing apt-get update again.
APT_CACHE_MAX_AGE_SECONDS=21600
# Reinitialize etcd data dir at provision time for deterministic cluster bootstrap.
ETCD_REINIT_ON_PROVISION=true
# If local etcd start fails, try one recovery attempt (existing-state or reinit fallback).
ETCD_AUTO_RECOVER_ON_FAILURE=true

# Networking
KUBE_NETWORK_PREFIX=10.30.0
KUBE_POD_CIDR=10.244.0.0/16
KUBE_SERVICE_CIDR=10.96.0.0/12

# API endpoint load balancer for multi-control-plane clusters
KUBE_API_LB_ENABLED=true
KUBE_API_LB_IP=10.30.0.5
KUBE_API_LB_HOSTNAME=k8s-api.local
KUBE_API_LB_CPUS=1
KUBE_API_LB_MEMORY=512

# Kubernetes versions (Debian package version format)
KUBE_VERSION=1.30.6-1.1

# CNI options: flannel, calico, cilium
KUBE_CNI=calico
# Pinned flannel release tag (used when KUBE_CNI=flannel)
KUBE_FLANNEL_VERSION=v0.25.7

# Guest OS image
KUBE_BOX=bento/ubuntu-24.04

# Optional ssh public key copied to vagrant user in guests
KUBE_SSH_PUBKEY=

# Control-plane join retry tuning (for cp2+)
CP_JOIN_MAX_ATTEMPTS=8
CP_JOIN_BASE_BACKOFF_SECONDS=60
CP_JOIN_MAX_BACKOFF_SECONDS=240

# etcd learner warning throttling during control-plane join
ETCD_WARN_SHOW_LIMIT=1
ETCD_WARN_REPORT_INTERVAL_SECONDS=90


# Generic wait-log cadence (seconds)
WAIT_REPORT_INTERVAL_SECONDS=60
